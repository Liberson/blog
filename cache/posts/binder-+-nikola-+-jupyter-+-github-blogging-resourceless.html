
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You are in vacation time but you want to blog something nice to share with your friends.
And your blog is powered by <strong>Nikola</strong>.
And you are a <strong>Jupyter Notebook</strong> user.
But you don't have your laptop with you, because you are on vacation time, remember? ;-)
But you still have your phone and some connectivity.
What do you think if I tell you you have a complete workflow to write your blogpost, build the site and deploy it just using your phone? But without using computational resources from your phone.</p>
<p>Don't you believe me? Just read below and I will show you how this is possible... and fun!
<!-- TEASER_END --></p>
<h2 id="Ingredients">Ingredients<a class="anchor-link" href="#Ingredients">&#182;</a></h2><p>First, as with any other recipe, we need some ingredients.</p>
<ol>
<li><strong>Jupyter Notebook</strong>, as our UI to write and manage the computational resources</li>
<li><strong>Nikola</strong>, to build the static site</li>
<li><strong>Binder</strong>, to provide the computational resources, and secondarily, the UI mentioned in the first item</li>
<li><strong>Github</strong>, to persist the whole site</li>
</ol>
<h2 id="Method">Method<a class="anchor-link" href="#Method">&#182;</a></h2><p>Let summarize the whole idea:</p>
<blockquote><p>We launch a binder instance from a Github repo containing my Nikola-powered blog site and write some content into a new blog post, then I rebuild the site using Nikola (already installed in my binder instance) and finally push the update site to Github's gh-pages to publish the new content (from my binder instance as well).</p>
</blockquote>
<p>Sounds good, isn't it?</p>
<h3 id="Create-a-binder-for-my-blog-site">Create a binder for my blog site<a class="anchor-link" href="#Create-a-binder-for-my-blog-site">&#182;</a></h3><p>Do you know <a href="https://mybinder.org/"><strong>Binder</strong></a>, right? In simple words it <em>Turn a GitHub repo into a collection of interactive notebooks</em>. You can find more info about Binder at <a href="https://mybinder.readthedocs.io/en/latest/">https://mybinder.readthedocs.io/en/latest/</a>.
For the purpose of this post (and the next ones), I just created a new binder introducing my blog site Github repo url into the URL field at mybinder.org (and the path to a specific notebook file) and I got a new url to access my binder instance at <a href="https://mybinder.org/v2/gh/damianavila/damian_blog/master?filepath=Start.ipynb">https://mybinder.org/v2/gh/damianavila/damian_blog/master?filepath=Start.ipynb</a></p>
<blockquote><p>In fact, I am writing this blog post in a binder instance (I love to do meta stuff ;-)</p>
</blockquote>
<p>That url pointed me to a Start.ipynb notebook file where I have some cells to create a new post with some tags.</p>
<h3 id="Write-the-new-content">Write the new content<a class="anchor-link" href="#Write-the-new-content">&#182;</a></h3><p>OK, this is one easy, it is this very same post ;-) as you probably expected.</p>
<p>One interesting note, since your binder is using <code>git</code> for internal stuff, you have <code>git</code> installed and ready to do your stuff as well. For instance, if my connection is flaky and given that my binder in transient. I can commit the work done so far. Just save the notebook file and run:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
  <div class="input_area">
    <div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>git status
</pre></div>

    <i class="icon-hand-up icon-large" style="float:right; margin-bottom:8px; margin-right:10px">
    &nbsp;&nbsp;Click me to hide the output</i>
  </div>
</div>
</div>

<div class="output_wrapper output_hidden">
  <div class="output">
    
<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>On branch master
Your branch is up-to-date with &#39;origin/master&#39;.
Changes not staged for commit:
  (use &#34;git add &lt;file&gt;...&#34; to update what will be committed)
  (use &#34;git checkout -- &lt;file&gt;...&#34; to discard changes in working directory)

	<span class="ansi-red-fg">modified:   ../.ipynb_checkpoints/Start-checkpoint.ipynb</span>
	<span class="ansi-red-fg">modified:   ../Start.ipynb</span>
	<span class="ansi-red-fg">modified:   ../__pycache__/conf.cpython-35.pyc</span>
	<span class="ansi-red-fg">modified:   ../plugins/upgrade_metadata/__pycache__/upgrade_metadata.cpython-35.pyc</span>

Untracked files:
  (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)

	<span class="ansi-red-fg">../.bash_logout</span>
	<span class="ansi-red-fg">../.bashrc</span>
	<span class="ansi-red-fg">../.ipython/</span>
	<span class="ansi-red-fg">../.local/</span>
	<span class="ansi-red-fg">../.profile</span>
	<span class="ansi-red-fg">.ipynb_checkpoints/binder-+-nikola-+-jupyter-+-github-blogging-resourceless-checkpoint.ipynb</span>
	<span class="ansi-red-fg">binder-+-nikola-+-jupyter-+-github-blogging-resourceless.ipynb</span>

no changes added to commit (use &#34;git add&#34; and/or &#34;git commit -a&#34;)
</pre>
</div>
</div>

</div>
</div>

  </div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
  <div class="input_area">
    <div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>git add <span class="s2">&quot;binder-+-nikola-+-jupyter-+-github-blogging-resourceless.ipynb&quot;</span>
</pre></div>

    <i class="icon-hand-up icon-large" style="float:right; margin-bottom:8px; margin-right:10px">
    &nbsp;&nbsp;Click me to hide the output</i>
  </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
  <div class="input_area">
    <div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>git commit -m <span class="s2">&quot;Add (incomplete) new post&quot;</span>
</pre></div>

    <i class="icon-hand-up icon-large" style="float:right; margin-bottom:8px; margin-right:10px">
    &nbsp;&nbsp;Click me to hide the output</i>
  </div>
</div>
</div>

<div class="output_wrapper output_hidden">
  <div class="output">
    
<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[master 7c7f9890] Add (incomplete) new post
 1 file changed, 146 insertions(+)
 create mode 100644 posts/binder-+-nikola-+-jupyter-+-github-blogging-resourceless.ipynb
</pre>
</div>
</div>

</div>
</div>

  </div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>OK, now you need to push this content... and if you try to <code>git push</code> it will file unless you have permissions to push to your repo. To achieve that from a binder instance you need to create a personal access token from Github: <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/">https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/</a>. And now you can push your stuff.</p>
<p>Note that this personal access token will be useful for further pushes down the road.</p>
<p>Also, we need a terminal to be able to provide the username and the token. And the Jupyter interface give us that pretty easily, you can go to the /tree (dashboard) and start a terminal from the dropdown menu (I can probably write a little extension to do this step from the notebook itself... but going to the terminal is pretty easy and quick).</p>
<p>Image</p>
<p>Now you repo is updated so next time you launch a binder from your repo it will contain your new post, meaning you can write your stuff iteratevely even in a transient platform, sweet!</p>
<h3 id="Rebuild-your-site-with-Nikola">Rebuild your site with Nikola<a class="anchor-link" href="#Rebuild-your-site-with-Nikola">&#182;</a></h3><p>When your post is ready, you need to rebuild the site using Nikola, but how Nikola end up in my binder instance?
Easy as well, you just need to provide a <code>requirements.txt</code> file with the dependencies you need and those ones will be included in your binder instance: <a href="https://mybinder.readthedocs.io/en/latest/using.html#simple-python-dependencies">https://mybinder.readthedocs.io/en/latest/using.html#simple-python-dependencies</a></p>
<p>In my case, the requirement.txt file is pretty easy: <a href="https://github.com/damianavila/damian_blog/blob/master/requirements.txt">https://github.com/damianavila/damian_blog/blob/master/requirements.txt</a></p>
<p>Because all the other pieces I need are already included by default: Jupyter stuff and <code>git</code>.</p>
<p>OK, now to rebuild your site you just need to run:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
  <div class="input_area">
    <div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>nikola build
</pre></div>

    <i class="icon-hand-up icon-large" style="float:right; margin-bottom:8px; margin-right:10px">
    &nbsp;&nbsp;Click me to hide the output</i>
  </div>
</div>
</div>

</div>
 

